<!doctype html>
<html lang="en">
  <head>
    <title>BlackBear | Video Categories</title>
    <link rel="icon" type="image/png" href="images/icon.png">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="css/vendor/icomoon/style.css">
    <link rel="stylesheet" href="css/vendor/owl.carousel.min.css">
    <link rel="stylesheet" href="css/vendor/animate.min.css">
    <link rel="stylesheet" href="css/vendor/aos.css">
    <link rel="stylesheet" href="css/vendor/bootstrap.min.css">
    <link rel="stylesheet" href="css/vendor/jquery.fancybox.min.css">
    <link rel="stylesheet" href="css/style.css">

    <style>
      /* --- ESTRUCTURA BASE (IGUAL A TU CAT 3) --- */
      html, body { height: 100%; margin: 0; }

      .unslate_co--site-inner { 
          display: flex !important; 
          flex-direction: column !important; 
          min-height: 100vh !important; 
          background-color: transparent !important; 
          color: white; 
      }

      #main-content-area {
          flex: 1 0 auto !important;
          padding-top: 150px;
          padding-bottom: 80px;
      }

      /* AGREGADO: Ocultar inicialmente para evitar el 'madraso' visual */
      #selection-view h1, 
      #selection-view .wavy-divider, 
      #selection-view p, 
      .home-button-container {
          opacity: 0;
      }

      .home-button-container {
          text-align: center;
          margin-top: 60px;
          margin-bottom: 20px;
      }

      /* --- FOOTER (ZONA GRIS) --- */
      #dynamic-footer-wrap { 
          width: 100%;
          opacity: 0; 
          flex-shrink: 0 !important;
      }

      .unslate_co--footer {
          background-color: #191919 !important;
          padding: 60px 0;
          display: block !important;
          position: relative !important;
          z-index: 100;
      }

      /* --- TUS ESTILOS ORIGINALES DE TEXTO Y TARJETAS --- */
      .video-bg-global { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: #000; }
      .video-bg-global video { width: 100%; height: 100%; object-fit: cover; opacity: 0.5; }

      /* Estilo exacto de tus títulos según la imagen */
      #selection-view h1 { font-weight: 800; letter-spacing: 3px; text-transform: uppercase; }

      .category-card { 
          background: rgba(255, 255, 255, 0.03); 
          border: 1px solid rgba(255, 255, 255, 0.1); 
          padding: 60px 20px; 
          border-radius: 4px; 
          text-align: center; 
          transition: 0.4s all ease; 
          cursor: pointer; 
          height: 100%; 
          display: flex; 
          align-items: center; 
          justify-content: center;
          opacity: 0; /* Para que GSAP lo anime */
      }
      .category-card h3 { font-weight: 800; letter-spacing: 4px; margin: 0; font-size: 1.2rem; color: #fff; text-transform: uppercase; }
      .category-card:hover { background: #ffffff; transform: translateY(-10px); }
      .category-card:hover h3 { color: #000 !important; }
      
      .wavy-divider { display: block; margin: 20px auto; width: 70px; filter: brightness(0) invert(1); }

      /* Cierres y vistas de proyecto (sin cambios) */
      #project-single-view { display: none; }
      .close-v1 { display: inline-flex !important; align-items: center; justify-content: flex-end; text-decoration: none !important; transition: all 0.3s ease; cursor: pointer !important; float: right; opacity: 0; }
      .close-v1 .icon-text { font-family: 'Montserrat', sans-serif !important; font-size: 10px; margin-right: 12px; color: #ffffff !important; text-transform: uppercase; font-weight: 700; letter-spacing: 2px; }
      .close-circle { width: 45px; height: 45px; border: 1px solid rgba(255,255,255,0.4); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; color: #ffffff; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); padding-bottom: 4px; }
      .close-v1:hover .close-circle { background: #ffffff !important; color: #000000 !important; transform: scale(1.12); }
    </style>
  </head>
  <body>

    <div class="video-bg-global">
      <video autoplay loop muted playsinline><source src="video/bg.mp4" type="video/mp4"></video>
    </div>

    <div class="unslate_co--site-wrap">
      <div class="unslate_co--site-inner">

        <nav class="unslate_co--site-nav site-nav-target">
          <div class="container">
            <div class="row align-items-center justify-content-between text-left">
              <div class="col-md-5 text-right">
                <ul class="site-nav-ul js-clone-nav text-left d-none d-lg-inline-block">
                  <li><a href="index.html#home-section" class="nav-link">Home</a></li>
                  <li><a href="index.html#portfolio-section" class="nav-link">Portfolio</a></li>
                  <li><a href="index.html#about-section" class="nav-link">About</a></li>
                  <li><a href="index.html#services-section" class="nav-link">Services</a></li>
                </ul>
              </div>
              <div class="site-logo pos-absolute">
                <a href="index.html" class="unslate_co--site-logo" style="background: white; padding: 10px 15px; display: inline-block; border-radius: 5px; box-shadow: 0 4px 10px rgba(0,0,0,0.3);">
                  <img src="images/logo.png" alt="BlackBear Logo" style="height: 40px; width: auto; vertical-align: middle;">
                </a>
              </div>
              <div class="col-md-5 text-right text-lg-left">
                <ul class="site-nav-ul js-clone-nav text-left d-none d-lg-inline-block">
                  <li><a href="index.html#skills-section" class="nav-link">Skills</a></li>
                  <li><a href="index.html#testimonial-section" class="nav-link">Testimonial</a></li>
                  <li><a href="index.html#journal-section" class="nav-link">Journal</a></li>
                  <li><a href="index.html#contact-section" class="nav-link">Contact</a></li>
                </ul>
              </div>
            </div>
          </div>
        </nav>

        <div id="main-content-area" class="container">
          
          <div id="selection-view">
            <div class="text-center mb-5">
              <h1>VIDEO CATEGORIES</h1>
              <img src="images/divider.png" class="wavy-divider" alt="divider">
              <p>Select a category to filter my work</p>
            </div>
            <div class="row gutter-v4" id="categories-container"></div>
          </div>

          <div id="grid-view" style="display: none; opacity: 0;">
             </div>

          <div class="home-button-container">
            <a href="index.html" class="btn btn-outline-pill btn-custom-light">// BACK TO HOME //</a>
          </div>

        </div> 
        
        <div id="dynamic-footer-wrap">
          <footer class="unslate_co--footer unslate_co--section">
            <div class="container text-center">
              <div class="footer-site-logo">
                <a href="index.html" style="background: white; padding: 8px 12px; display: inline-block; border-radius: 5px; margin-bottom: 20px;">
                  <img src="images/logo.png" alt="BlackBear Logo" style="height: 35px;">
                </a>
              </div>
              <p class="site-copyright">Copyright &copy; 2026 BlackBear. All rights reserved.</p>
            </div>
          </footer>
        </div>

      </div>
    </div>

    <script src="js/scripts-dist.js"></script>
    <script src="js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
      const EXCEL_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vR9yghObfHQDI1wcM1g4gn2uMOSSd_w-qYkS1TFHAJXsnJDA-zi8A_4X9ymMGhtreM7f0sY8JRGqnBE/pub?gid=0&single=true&output=csv";
      let allItems = [];

      document.addEventListener('DOMContentLoaded', function() {
        Papa.parse(EXCEL_URL, {
          download: true, header: true,
          complete: function(results) {
            allItems = results.data.filter(p => p.ID && p.Titulo);
            renderCategoryMenu();
          }
        });
      });

      function renderCategoryMenu() {
        const categories = [...new Set(allItems.map(item => item.Category || 'Video'))];
        let html = "";
        categories.forEach((cat) => {
          html += `<div class="col-md-4 mb-4">
                    <div class="category-card" onclick="openCategory('${cat}')"><h3>${cat}</h3></div>
                  </div>`;
        });
        document.getElementById('categories-container').innerHTML = html;

        // --- ANIMACIÓN DE ENTRADA (GSAP) ---
        const tl = gsap.timeline();

        // 1. Aparece el título principal suavemente
        tl.to("#selection-view h1, #selection-view .wavy-divider, #selection-view p", {
          duration: 0.8, opacity: 1, y: 0, stagger: 0.2, ease: "power2.out"
        });

        // 2. Aparecen las categorías en cascada (Stagger)
        tl.to(".category-card", {
          duration: 0.7, opacity: 1, y: -10, stagger: 0.1, ease: "power2.out"
        }, "-=0.4");

        // 3. FADE LARGO PARA EL BOTÓN (Para que no salte, aparece cuando ya hay espacio)
        tl.to(".home-button-container", {
          duration: 1.2, opacity: 1, ease: "power2.out"
        }, "-=0.3");

        // 4. Footer al final
        tl.to("#dynamic-footer-wrap", { duration: 1, opacity: 1, ease: "power2.out" }, "-=0.6");
      }

      // Resto de funciones (openCategory, etc) se mantienen igual a tu CAT 3
    </script>
  </body>
</html>
